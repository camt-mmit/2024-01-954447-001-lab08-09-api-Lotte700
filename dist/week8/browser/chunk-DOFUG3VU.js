import{a as j,b as de,c as ue,d as ve,e as xe,f as Se,g as ye,h as be,i as Le}from"./chunk-XKVD7ATE.js";import{a as De,b as Re,c as Me,e as Ee,f as Oe,h as Te,j as Ie,l as ke,m as y}from"./chunk-QHUTTJXF.js";import{$ as M,D as ae,Da as we,E as I,Ea as G,Fa as B,G as v,H as s,Ia as S,Ja as z,K as d,Ka as F,La as N,O as u,R as g,T as f,U as _e,V as Ce,W as k,X as V,Y as r,Z as o,_ as R,a as q,aa as _,b as fe,ba as m,c as ge,ca as i,da as x,ea as C,fa as he,h as U,ka as re,la as pe,m as O,ma as se,o as T,oa as Pe,pa as le,qa as ce,r as D,u as c,va as A,y as P,ya as me,z as w}from"./chunk-YH26VTRV.js";var H=class t{http=c(B);baseUrl="https://swapi.dev/api/planets/";getPlanetsList(n){let e=n||this.baseUrl;return this.http.get(e).pipe(U(a=>({results:ye(a),next:a.next,previous:a.previous})))}getPlanet(n){return this.http.get(`${this.baseUrl}${n}/`).pipe(U(e=>Se(e)))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var He=t=>["/star-war/planets/",t],$e=(t,n)=>n.url;function Ue(t,n){t&1&&(r(0,"p"),i(1,"Loading planets..."),o())}function Ae(t,n){if(t&1&&(r(0,"div",3)(1,"a",4)(2,"h3"),i(3),o()()()),t&2){let e=n.$implicit,a=n.$index;s(),g("routerLink",Pe(2,He,a+1)),s(2),x(e.name)}}var W=class t{planetsService=c(H);planets=v([]);nextUrl=v(null);previousUrl=v(null);ngOnInit(){this.loadPlanets()}loadPlanets(n){this.planetsService.getPlanetsList(n).subscribe({next:e=>{this.planets.set(e.results),this.nextUrl.set(e.next),this.previousUrl.set(e.previous)},error:e=>console.error("Error fetching planets:",e)})}goToNextPage(){let n=this.nextUrl();n&&this.loadPlanets(n)}goToPreviousPage(){let n=this.previousUrl();n&&this.loadPlanets(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-planet-list"]],decls:11,vars:3,consts:[[1,"planets-list"],[1,"pagination"],[3,"click","disabled"],[1,"planet-item"],[3,"routerLink"]],template:function(e,a){e&1&&(r(0,"div",0)(1,"h2"),i(2,"Planets List"),o(),r(3,"div",1)(4,"button",2),_("click",function(){return a.goToPreviousPage()}),i(5," Previous "),o(),r(6,"button",2),_("click",function(){return a.goToNextPage()}),i(7,"Next"),o()(),u(8,Ue,2,0,"p"),k(9,Ae,4,4,"div",3,$e),o()),e&2&&(s(4),g("disabled",!a.previousUrl()),s(2),g("disabled",!a.nextUrl()),s(2),f(a.planets().length===0?8:-1),s(),V(a.planets()))},dependencies:[G,N],styles:[".planets-list[_ngcontent-%COMP%]{padding:20px}.planet-item[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;margin:10px 0}.pagination[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{padding:5px 10px;margin:0 5px}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"],changeDetection:0})};function qe(t,n){t&1&&(r(0,"p"),i(1,"Loading planet details..."),o())}function Ge(t,n){if(t&1&&(r(0,"h2"),i(1),o(),r(2,"p"),i(3),o(),r(4,"p"),i(5),o(),r(6,"p"),i(7),o(),r(8,"p"),i(9),o(),r(10,"p"),i(11),o(),r(12,"p"),i(13),o(),r(14,"p"),i(15),o(),r(16,"p"),i(17),o()),t&2){let e=m();s(),x(e.planet().name),s(2),C("Rotation Period: ",e.planet().rotation_period," hours"),s(2),C("Orbital Period: ",e.planet().orbital_period," days"),s(2),C("Diameter: ",e.planet().diameter," km"),s(2),C("Climate: ",e.planet().climate,""),s(2),C("Gravity: ",e.planet().gravity,""),s(2),C("Terrain: ",e.planet().terrain,""),s(2),C("Surface Water: ",e.planet().surface_water,"%"),s(2),C("Population: ",e.planet().population,"")}}var J=class t{route=c(S);planetsService=c(H);planet=v(void 0);ngOnInit(){let n=this.route.snapshot.paramMap.get("id");n&&this.planetsService.getPlanet(+n).subscribe({next:e=>this.planet.set(e),error:e=>console.error("Error fetching planet:",e)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-planet-view"]],decls:3,vars:1,consts:[[1,"planet-view"]],template:function(e,a){e&1&&(r(0,"div",0),u(1,qe,2,0,"p")(2,Ge,18,9),o()),e&2&&(s(),f(a.planet()?2:1))},encapsulation:2,changeDetection:0})};function Be(t,n){t&1&&i(0,`
Loading...
`)}function ze(t,n){if(t&1){let e=M();r(0,"button",2),_("click",function(){let p=P(e).$implicit,l=m(3);return w(l.itemSelect.emit(p.id))}),i(1),o()}if(t&2){let e=n.$implicit;s(),he("",e.name," ",e.id," ")}}function We(t,n){if(t&1&&(r(0,"div",4),k(1,ze,2,2,"button",5,Ce),o()),t&2){let e=m(2);s(),V(e.parsedData().results)}}function Je(t,n){t&1&&i(0,`
Not Found !!!
`)}function Xe(t,n){if(t&1&&u(0,We,3,0,"div",4)(1,Je,1,0),t&2){let e=m();f(e.parsedData().results.length>0?0:1)}}var E=class t{data=I.required();isLoading=I(!1);searchData=I.required();searchDataChange=ae();itemSelect=ae();parsedData=A(()=>xe(this.data()));fb=c(Ie).nonNullable;formGroup=A(()=>this.fb.group({search:this.fb.control(this.searchData().search??"",{updateOn:"submit"})}));onSubmit(){this.searchDataChange.emit(this.formGroup().getRawValue())}onPage(n){n&&this.searchDataChange.emit(Object.fromEntries(n.searchParams))}clear(){this.searchDataChange.emit({})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-people-list"]],inputs:{data:[1,"data"],isLoading:[1,"isLoading"],searchData:[1,"searchData"]},outputs:{searchDataChange:"searchDataChange",itemSelect:"itemSelect"},decls:14,vars:4,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","search"],["type","button",3,"click"],["type","button",3,"click","disabled"],[1,"-cmp-resource-list"],["type","button"]],template:function(e,a){e&1&&(r(0,"form",0),_("ngSubmit",function(){return a.onSubmit()}),r(1,"label")(2,"b"),i(3,"Search"),o(),R(4,"input",1),o(),r(5,"button",2),_("click",function(){return a.clear()}),i(6,"X"),o()(),r(7,"div")(8,"button",3),_("click",function(){return a.onPage(a.parsedData().previous)}),i(9,"Previous"),o(),r(10,"button",3),_("click",function(){return a.onPage(a.parsedData().next)}),i(11,"Next"),o()(),u(12,Be,1,0)(13,Xe,2,1)),e&2&&(g("formGroup",a.formGroup()),s(8),g("disabled",!a.parsedData().previous),s(2),g("disabled",!a.parsedData().next),s(2),f(a.isLoading()?12:13))},dependencies:[ke,Ee,De,Re,Me,Oe,Te],styles:[".-cmp-resource-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#222;padding:10px 15px;border-radius:5px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;font-size:1rem}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;outline:none;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#ff0;box-shadow:0 0 8px #ff0c}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:4px;cursor:pointer;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:red;color:#fff}div[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center;gap:15px}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;background:#f8d32a;color:#000;font-weight:700;transition:all .3s ease-in-out}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fc0;box-shadow:0 0 10px #fc0c}"],changeDetection:0})};var Ve=`${j}/people/`,X=class t{async getAll(n){let e=new URL(Ve);typeof n<"u"&&Object.entries(n).filter(([,l])=>!!l).forEach(([l,b])=>e.searchParams.set(l,b));let a=await fetch(e),p=await a.json();if(a.ok)return p;throw new Error("HTTP ERROR",{cause:p})}async get(n){let e=new URL(n,Ve),a=await fetch(e),p=await a.json();if(a.ok)return p;throw new Error("HTTP ERROR",{cause:p})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function Ye(t,n){if(t&1){let e=M();r(0,"app-sw-people-list",1),_("searchDataChange",function(p){P(e);let l=m();return w(l.search(p))})("itemSelect",function(p){P(e);let l=m();return w(l.onItemSelect(p))}),o()}if(t&2){let e=m();g("data",n)("searchData",e.searchData())("isLoading",e.isLoading())}}function Ke(t,n){t&1&&(r(0,"p"),i(1,"Loading..."),o())}var Y=class t{service=c(X);activatedRoute=c(S);isLoading=v(!1);queryParams$=this.activatedRoute.queryParams;data=y(this.queryParams$.pipe(T(()=>this.isLoading.set(!0)),O(async n=>await this.service.getAll(n)),T(()=>this.isLoading.set(!1))));searchData=y(this.queryParams$,{initialValue:{}});router=c(F);search(n){this.router.navigate([],{queryParams:n,replaceUrl:!0})}onItemSelect(n){let e=n.split("/").pop();this.router.navigate(["..",e],{relativeTo:this.activatedRoute})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-people-fetch-list-page"]],decls:2,vars:1,consts:[[3,"data","searchData","isLoading"],[3,"searchDataChange","itemSelect","data","searchData","isLoading"]],template:function(e,a){if(e&1&&u(0,Ye,1,3,"app-sw-people-list",0)(1,Ke,2,0,"p"),e&2){let p;f((p=a.data())?0:1,p)}},dependencies:[E],encapsulation:2,changeDetection:0})};var Fe=`${j}/people/`,$=class t{http=c(B);getAll(n){return this.http.get(Fe,{params:q({},n)})}get(n){return this.http.get(`${Fe}${n}`)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function Qe(t,n){if(t&1){let e=M();r(0,"app-sw-people-list",1),_("searchDataChange",function(p){P(e);let l=m();return w(l.search(p))})("itemSelect",function(p){P(e);let l=m();return w(l.onItemSelect(p))}),o()}if(t&2){let e=m();g("data",n)("searchData",e.searchData())("isLoading",e.isLoading())}}function Ze(t,n){t&1&&(r(0,"p"),i(1,"Loading..."),o())}var K=class t{service=c($);activatedRoute=c(S);isLoading=v(!1);queryParams$=this.activatedRoute.queryParams;data=y(this.queryParams$.pipe(T(()=>this.isLoading.set(!0)),O(n=>this.service.getAll(n)),T(()=>this.isLoading.set(!1))));searchData=y(this.queryParams$,{initialValue:{}});router=c(F);search(n){this.router.navigate([],{queryParams:n,replaceUrl:!0})}onItemSelect(n){let e=n.split("/").pop();this.router.navigate(["..",e],{relativeTo:this.activatedRoute})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-people-http-client-list-page"]],decls:2,vars:1,consts:[[3,"data","searchData","isLoading"],[3,"searchDataChange","itemSelect","data","searchData","isLoading"]],template:function(e,a){if(e&1&&u(0,Qe,1,3,"app-sw-people-list",0)(1,Ze,2,0,"p"),e&2){let p;f((p=a.data())?0:1,p)}},dependencies:[E],encapsulation:2,changeDetection:0})};var Ne=`${j}/people/`,Q=class t{getAll(n){return me({request:n,loader:async({request:e,abortSignal:a})=>{let p=new URL(Ne);typeof e<"u"&&Object.entries(e).filter(([,oe])=>!!oe).forEach(([oe,je])=>p.searchParams.set(oe,je));let l=await fetch(p),b=await l.json();if(l.ok)return b;throw new Error("HTTP ERROR",{cause:b})}})}get(n){return me({request:n,loader:async({request:e,abortSignal:a})=>{let p=new URL(e,Ne),l=await fetch(p,{signal:a}),b=await l.json();if(l.ok)return b;throw new Error("HTTP ERROR",{cause:b})}})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function et(t,n){if(t&1){let e=M();r(0,"app-sw-people-list",1),_("searchDataChange",function(p){P(e);let l=m();return w(l.search(p))})("itemSelect",function(p){P(e);let l=m();return w(l.onItemSelect(p))}),o()}if(t&2){let e=m();g("data",n)("searchData",e.searchData())("isLoading",e.resource.isLoading())}}function tt(t,n){t&1&&(r(0,"p"),i(1,"Loading..."),o())}var Z=class t{service=c(Q);activatedRoute=c(S);queryParams$=this.activatedRoute.queryParams;searchData=y(this.queryParams$,{initialValue:{}});resource=this.service.getAll(this.searchData);router=c(F);search(n){this.router.navigate([],{queryParams:n,replaceUrl:!0})}onItemSelect(n){let e=n.split("/").pop();this.router.navigate(["..",e],{relativeTo:this.activatedRoute})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-people-http-resource-list-page"]],decls:2,vars:1,consts:[[3,"data","searchData","isLoading"],[3,"searchDataChange","itemSelect","data","searchData","isLoading"]],template:function(e,a){if(e&1&&u(0,et,1,3,"app-sw-people-list",0)(1,tt,2,0,"p"),e&2){let p;f((p=a.resource.value())?0:1,p)}},dependencies:[E],encapsulation:2,changeDetection:0})};var ee=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-people-page"]],decls:12,vars:0,consts:[["routerLink","fetch","routerLinkActive","app-st-active"],["routerLink","http-client","routerLinkActive","app-st-active"],["routerLink","resource-client","routerLinkActive","app-st-active"]],template:function(e,a){e&1&&(r(0,"nav")(1,"ul")(2,"li")(3,"a",0),i(4,"Fetch"),o()(),r(5,"li")(6,"a",1),i(7,"Http-client"),o()(),r(8,"li")(9,"a",2),i(10,"Resource-client"),o()()()(),R(11,"router-outlet"))},dependencies:[N,z],styles:["nav[_ngcontent-%COMP%]{background-color:#222;padding:10px 0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;gap:20px;padding:0;margin:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:1.2rem;padding:10px 15px;border-radius:5px;transition:all .3s ease-in-out}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff0;color:#000}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .app-st-active[_ngcontent-%COMP%]{background:#ff0;color:#000;font-weight:700;border-radius:5px;padding:10px 15px}"],changeDetection:0})};function nt(t,n){t&1&&i(0," Loading.. ")}function it(t,n){t&1&&i(0," - ")}function ot(t,n){if(t&1&&i(0),t&2){m();let e=se(24);C(" ",e.name," ")}}function at(t,n){t&1&&i(0," Loadgin... ")}function rt(t,n){t&1&&i(0," - ")}function pt(t,n){if(t&1&&i(0),t&2){m();let e=se(1);C(" ",e.name," ")}}function st(t,n){if(t&1&&(r(0,"li"),re(1),u(2,at,1,0)(3,rt,1,0)(4,pt,1,1),o()),t&2){let e,a=n.$implicit;s();let p=pe(a());s(),f((e=p)===void 0?2:e===null?3:4)}}function lt(t,n){if(t&1&&(r(0,"ul"),k(1,st,5,2,"li",null,_e),o()),t&2){let e=m();s(),V(e.parsedData().species)}}function ct(t,n){t&1&&i(0," -- ")}var te=class t{data=I.required();parsedData=A(()=>{let l=ve(this.data()),{homeworld:e,species:a}=l,p=ge(l,["homeworld","species"]);return fe(q({},p),{homeworld:de(e,ue),species:a.map(b=>de(b,ue))})});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-person-view"]],inputs:{data:[1,"data"]},decls:43,vars:16,template:function(e,a){if(e&1&&(r(0,"dl")(1,"dt"),i(2,"Name"),o(),r(3,"dd"),i(4),o(),r(5,"dt"),i(6,"Birth Year"),o(),r(7,"dd"),i(8),o(),r(9,"dt"),i(10,"Gender"),o(),r(11,"dd"),i(12),o(),r(13,"dt"),i(14,"Height"),o(),r(15,"dd"),i(16),o(),r(17,"dt"),i(18,"Mass"),o(),r(19,"dd"),i(20),o(),r(21,"dt"),i(22,"HomeWorld"),o(),r(23,"dd"),re(24),u(25,nt,1,0)(26,it,1,0)(27,ot,1,1),o(),r(28,"dt"),i(29,"Species"),o(),r(30,"dd"),u(31,lt,3,0,"ul")(32,ct,1,0),o()(),r(33,"dt"),i(34,"Created"),o(),r(35,"dd"),i(36),le(37,"date"),o(),r(38,"dt"),i(39,"Edited"),o(),r(40,"dd"),i(41),le(42,"date"),o()),e&2){let p;s(4),x(a.parsedData().name),s(4),x(a.parsedData().birth_year),s(4),x(a.parsedData().gender),s(4),C("",a.parsedData().height," cm."),s(4),C("",a.parsedData().mass," kg."),s(4);let l=pe(a.parsedData().homeworld());s(),f((p=l)===void 0?25:p===null?26:27),s(6),f(a.parsedData().species.length>0?31:32),s(5),x(ce(37,10,a.parsedData().created,"medium")),s(5),x(ce(42,13,a.parsedData().edited,"medium"))}},dependencies:[we],encapsulation:2,changeDetection:0})};function mt(t,n){t&1&&R(0,"app-sw-person-view",0),t&2&&g("data",n)}function dt(t,n){t&1&&i(0,` Loading...
`)}var ne=class t{service=c($);activatedRoute=c(S);params$=this.activatedRoute.params;data=y(this.params$.pipe(U(({id:n})=>n),O(n=>this.service.get(n))));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-person-view-page"]],decls:2,vars:1,consts:[[3,"data"]],template:function(e,a){if(e&1&&u(0,mt,1,1,"app-sw-person-view",0)(1,dt,1,0),e&2){let p;f((p=a.data())?0:1,p)}},dependencies:[te],encapsulation:2,changeDetection:0})};var ie=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-sw-page"]],decls:12,vars:0,consts:[["routerLink","people"],["routerLink","species"],["routerLink","planets"]],template:function(e,a){e&1&&(r(0,"h1"),i(1,"Star Wars Explorer"),o(),r(2,"nav")(3,"a",0),i(4,"People"),o(),i(5," | "),r(6,"a",1),i(7,"Species"),o(),i(8," | "),r(9,"a",2),i(10,"Planets"),o()(),R(11,"router-outlet"))},dependencies:[G,z,N],styles:["h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;text-align:center;color:#ff0;text-shadow:2px 2px 8px black;font-family:Star Jedi,sans-serif}nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:15px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:1.2rem;font-weight:700;color:#000;padding:10px 15px;border-radius:5px;transition:all .3s ease-in-out;background:#fff3}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff0;color:#000;text-shadow:1px 1px 5px white}"],changeDetection:0})};var fi=[{path:"",component:ie,children:[{path:"",redirectTo:"people",pathMatch:"full"},{path:"people",component:ee,children:[{path:"",redirectTo:"fetch",pathMatch:"full"},{path:"fetch",component:Y},{path:"http-client",component:K},{path:"resource-client",component:Z},{path:":id",component:ne}]},{path:"species",children:[{path:"",component:be},{path:":id",component:Le}]},{path:"planets",children:[{path:"",component:W},{path:":id",component:J}]}]}];export{fi as default};
